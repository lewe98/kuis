<ion-header>
    <ion-toolbar>
        <ion-buttons slot="end">
            <ion-button (click)="dismiss()">Abbrechen</ion-button>
        </ion-buttons>

        <ion-title>
            Profil bearbeiten
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="content">
        <ng-container>
            <ion-list>

                <ion-item>
                    <ion-label>Nutzername*</ion-label>
                    <ion-input #focus class="ion-text-end formControl" placeholder="Nutzername..."
                               [(ngModel)]="user.nutzername"
                               type="text"
                               required></ion-input>
                </ion-item>

                <p class="ion-text-end ion-padding-end" style="color:var(--ion-color-danger)"
                   *ngIf="errors.get('nutzername')">
                    {{errors.get('nutzername')}} </p>


                <ion-item>
                    <ion-label>E-Mail*</ion-label>
                    <ion-input class="ion-text-end formControl" placeholder="Email..." [(ngModel)]="user.email"
                               type="email"
                               required></ion-input>
                </ion-item>

                <p class="ion-text-end ion-padding-end" style="color:var(--ion-color-danger)"
                   *ngIf="errors.get('email')">
                    {{errors.get('email')}} </p>

                <div *ngIf="!user.googleAccount">
                    <ion-item>
                        <ion-label>aktuelles oder neues Passwort*</ion-label>
                        <ion-input class="ion-text-end formControl" placeholder="Passwort..."
                                   [(ngModel)]="passwort"
                                   type="password"
                                   required></ion-input>
                    </ion-item>

                    <p class="ion-text-end ion-padding-end" style="color:var(--ion-color-danger)"
                       *ngIf="errors.get('passwort')">
                        {{errors.get('passwort')}} </p>


                    <ion-item>
                        <ion-label>Passwort bestätigen*</ion-label>
                        <ion-input class="ion-text-end formControl" placeholder="Passwort bestätigen..."
                                   [(ngModel)]="passwortConfirm" type="password"
                                   required></ion-input>
                    </ion-item>

                    <p class="ion-text-end ion-padding-end" style="color:var(--ion-color-danger)"
                       *ngIf="errors.get('passwortConfirm')">
                        {{errors.get('passwortConfirm')}} </p>
                </div>
            </ion-list>

            <ion-note class="margin">*Pflichtfeld</ion-note>

        </ng-container>

        <div class="section-buttons ion-padding">
            <ion-button class="kuis-button ion-padding-horizontal" expand="block" color="" shape="round" fill="solid"
                        size="large" (click)="save(user.nutzername, user.email, passwort)">
                Speichern
            </ion-button>
        </div>
    </div>

</ion-content>

